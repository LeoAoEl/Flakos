---
import { type CollectionEntry } from "astro:content";
import { Image } from "astro:assets";

type Props = {
  room: CollectionEntry<"rooms">;
};

const { room } = Astro.props;
const { slug, data } = room;
const { title, image, prices, type, description } = data;
---

<section
  class="bg-white rounded-lg shadow-lg overflow-hidden p-4 max-w-sm mx-auto"
>
  <a href={`/rooms/${slug}`}>
    <span
      class={` p-2 text-white text-xs absolute font-thin rounded-lg ${type === "Glamping" ? "bg-verde" : "bg-naranja"}`}
      >{type}</span
    >
    <Image
      src={image}
      alt={title}
      width={350}
      height={350}
      quality="mid"
      loading="eager"
      transition:name={`image ${slug}`}
      class="w-full h-48 object-cover rounded-lg"
    />
  </a>

  <div class="p-4">
    <div class="flex justify-between items-center mb-2">
      <h3
        class="text-xl font-bold text-textColor"
        transition:name={`title ${title}`}
      >
        {title}
      </h3>
      <span class="text-lg font-bold text-textColor"
        >${prices.regular}/noche</span
      >
    </div>

    <p class="text-sm text-textColor mb-4">{description}</p>

    <a
      href={`/rooms/${slug}`}
      class="block text-center bg-textColor text-white py-2 rounded-lg font-semibold hover:bg-verde transition-all"
    >
      Reservar ahora
    </a>
  </div>
</section>
